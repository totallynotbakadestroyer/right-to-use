(this["webpackJsonpright-to-use"]=this["webpackJsonpright-to-use"]||[]).push([[0],{29:function(e,t,a){},30:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(3),r=a.n(c),i=a(19),d=a.n(i),o=(a(29),a(7)),u=(a(30),a(23)),l=a(5),s=a(2),j=a(20),b=function(e){var t=e.metadataFields,a=e.handleMetadataPayload,c=e.addField;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:"Metadata fields"}),t.map((function(e){return Object(n.jsx)("div",{children:Object(n.jsxs)("label",{children:["xmp:",Object(n.jsx)("input",{placeholder:"tag name",onChange:function(t){return a(t,e.id)},value:e.name,name:"name"}),"=",Object(n.jsx)("input",{placeholder:"value",name:"data",onChange:function(t){return a(t,e.id)}})]})},e.id)})),Object(n.jsx)("button",{onClick:c,children:"Add field"})]})},p=a(9),h=a.n(p),O=a(21),m=a(10),f=a.n(m),x=a(22),g=a.n(x),v="/upload",k=function(){var e=Object(O.a)(h.a.mark((function e(t,a,n,c){var r,i,d,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=new FormData,i=c?c.accessToken:null,d=Object(s.a)(Object(s.a)({},n),{},{accessToken:i}),r.append("payload",JSON.stringify(d)),r.append("file",a),n.upload){e.next=11;break}return e.next=9,f.a.post(v,r,{responseType:"blob"});case 9:return o=e.sent,e.abrupt("return",g()(o.data,a.name));case 11:return e.next=13,f.a.post(v,r);case 13:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}(),y=function(e){var t=e.setAuth,a=e.auth,r=Object(c.createRef)(),i=Object(c.useState)({upload:!1,folderName:"",metadata:[{name:"BuyerId",data:"",id:0}]}),d=Object(o.a)(i,2),p=d[0],h=d[1],O=function(e){var t="checkbox"===e.target.type;h(Object(s.a)(Object(s.a)({},p),{},Object(l.a)({},e.target.name,t?e.target.checked:e.target.value)))};return Object(n.jsxs)("form",{action:"upload",onSubmit:function(e){return k(e,r.current.files[0],p,a)},children:[Object(n.jsx)("div",{children:Object(n.jsxs)("label",{htmlFor:"file",children:["Picture to mark",Object(n.jsx)("input",{ref:r,id:"file",name:"file",type:"file"})]})}),Object(n.jsx)(b,{metadataFields:p.metadata,handleMetadataPayload:function(e,t){h(Object(s.a)(Object(s.a)({},p),{},{metadata:p.metadata.map((function(a){return a.id===t?Object(s.a)(Object(s.a)({},a),{},Object(l.a)({},e.target.name,e.target.value)):a}))}))},addField:function(e){e.preventDefault(),h(Object(s.a)(Object(s.a)({},p),{},{metadata:[].concat(Object(u.a)(p.metadata),[{name:"NewField",data:"",index:p.metadata.length}])}))}}),p.upload?Object(n.jsx)("div",{children:Object(n.jsxs)("label",{htmlFor:"folder-name",children:["Folder name",Object(n.jsx)("input",{id:"folder-name",name:"folderName",onChange:function(e){return O(e)}})]})}):null,Object(n.jsx)("div",{children:Object(n.jsxs)("label",{htmlFor:"upload-drive",children:["Upload to google drive?",Object(n.jsx)("input",{id:"upload-drive",onChange:function(e){return O(e)},name:"upload",type:"checkbox"})]})}),a||!p.upload?Object(n.jsx)("button",{type:"submit",children:"mark picture"}):Object(n.jsx)(j.GoogleLogin,{clientId:"806749174719-9lf5h2pm0c5jr9hj5dn9hbs5a80bgvtp.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){return t(e)},scope:"https://www.googleapis.com/auth/drive.appdata"})]})},F=function(e){var t=e.auth,a=e.setAuth;return t?Object(n.jsx)("div",{children:Object(n.jsxs)("h2",{children:["Logged as ",t.profileObj.email," ",Object(n.jsx)("button",{onClick:function(){return a(null)},children:"Logout?"})]})}):null},w=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)(F,{auth:a,setAuth:r}),Object(n.jsx)(y,{setAuth:r,auth:a})]})};d.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(w,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.ebb1a799.chunk.js.map